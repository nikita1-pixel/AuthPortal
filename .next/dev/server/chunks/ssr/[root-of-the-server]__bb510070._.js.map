{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nirma/OneDrive/Desktop/CODE/authport/Auth-Portal/src/components/Login.tsx"],"sourcesContent":["\"use client\";\r\nimport { useSession, signIn, signOut } from \"next-auth/react\";\r\nimport React, { useState, FormEvent, ChangeEvent } from 'react';\r\nimport { useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\"; // Added Link import\r\nimport { ShieldCheck, LogIn, Chrome, AlertCircle } from 'lucide-react';\r\n\r\nconst Login: React.FC = () => {\r\n  const router = useRouter();\r\n  const { data: session, status } = useSession();\r\n\r\n  const [formData, setFormData] = useState({ email: '', password: '' });\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  function handleChange(e: ChangeEvent<HTMLInputElement>) {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  }\r\n\r\n  const handleSubmit = async (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setIsSubmitting(true);\r\n\r\n    const result = await signIn(\"credentials\", {\r\n      email: formData.email,\r\n      password: formData.password,\r\n      redirect: false,\r\n    });\r\n\r\n    setIsSubmitting(false);\r\n\r\n    if (result?.error) {\r\n      setError(\"Invalid credentials. Access denied.\");\r\n    } else {\r\n      router.push(\"/admin/dashboard\");\r\n    }\r\n  };\r\n\r\n  // 1. LOADING STATE\r\n  if (status === \"loading\") {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center min-h-screen bg-[#121212]\">\r\n        <span className=\"loading loading-spinner loading-lg text-amber-500\"></span>\r\n        <p className=\"mt-4 text-gray-400 animate-pulse font-mono\">Verifying credentials...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // 2. LOGGED IN STATE (Management Style)\r\n  if (session) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center bg-[#121212] px-6\">\r\n        <div className=\"bg-white/5 border border-white/10 rounded-2xl p-10 text-center shadow-2xl max-w-md w-full backdrop-blur-md\">\r\n          <div className=\"flex justify-center mb-6\">\r\n            <div className=\"relative\">\r\n              <div className=\"bg-amber-600/20 p-5 rounded-full ring-1 ring-amber-500/30\">\r\n                <ShieldCheck className=\"text-amber-500\" size={56} />\r\n              </div>\r\n              <span className=\"absolute bottom-1 right-1 w-4 h-4 bg-emerald-500 border-2 border-[#121212] rounded-full\"></span>\r\n            </div>\r\n          </div>\r\n\r\n          <h2 className=\"text-3xl font-bold text-white mb-1\">Access Granted</h2>\r\n          <div className=\"flex justify-center mb-6\">\r\n            <span className=\"text-[10px] bg-amber-600/10 border border-amber-600/20 text-amber-500 px-2 py-0.5 rounded font-mono uppercase tracking-widest\">\r\n              System Administrator\r\n            </span>\r\n          </div>\r\n\r\n          <p className=\"text-gray-400 mb-8\">\r\n            Verified as <span className=\"text-white font-medium\">{session.user?.email}</span>.\r\n            The management console is ready for your session.\r\n          </p>\r\n\r\n          <div className=\"flex flex-col gap-3\">\r\n            <Link\r\n              href=\"/admin/dashboard\"\r\n              className=\"btn btn-lg bg-amber-600 hover:bg-amber-500 text-white border-none shadow-lg shadow-amber-600/20 flex items-center justify-center gap-2\"\r\n            >\r\n              Go to Control Center\r\n              <LogIn size={18} />\r\n            </Link>\r\n\r\n            <button\r\n              className=\"btn btn-ghost btn-sm text-gray-500 hover:text-red-400 mt-2\"\r\n              onClick={() => signOut()}\r\n            >\r\n              Terminate Session\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // 3. LOGIN FORM\r\n  return (\r\n    <div className=\"flex min-h-screen flex-col justify-center bg-[#121212] px-6 py-12 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\r\n        <div className=\"flex justify-center mb-6\">\r\n          <LogIn className=\"text-amber-500\" size={40} />\r\n        </div>\r\n        <h2 className=\"text-center text-3xl font-bold tracking-tight text-white font-serif\">\r\n          Management Portal\r\n        </h2>\r\n        <p className=\"mt-2 text-center text-gray-500 text-sm font-sans\">\r\n          Authorized personnel only.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          {error && (\r\n            <div className=\"flex items-center gap-2 p-3 text-sm text-red-400 bg-red-400/10 border border-red-400/20 rounded-md\">\r\n              <AlertCircle size={16} />\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-300\">\r\n              Identity (Email)\r\n            </label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                required\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n                className=\"block w-full rounded-md border-0 bg-white/5 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-amber-500 sm:text-sm\"\r\n                placeholder=\"admin@system.com\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-300\">\r\n                Access Key\r\n              </label>\r\n              <div className=\"text-sm\">\r\n                <a href=\"#\" className=\"font-semibold text-amber-500 hover:text-amber-400\">\r\n                  Reset Key?\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                id=\"password\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                required\r\n                value={formData.password}\r\n                onChange={handleChange}\r\n                className=\"block w-full rounded-md border-0 bg-white/5 py-2.5 px-3 text-white shadow-sm ring-1 ring-inset ring-white/10 focus:ring-2 focus:ring-inset focus:ring-amber-500 sm:text-sm\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className={`flex w-full justify-center rounded-md bg-amber-600 px-3 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-amber-500 transition-all ${isSubmitting ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n            >\r\n              {isSubmitting ? 'Authenticating...' : 'Secure Login'}\r\n            </button>\r\n\r\n            {/* register button */}\r\n            <Link href=\"/register\" className=\"flex w-full justify-center rounded-md bg-amber-600 px-3 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-amber-500 transition-all\">\r\n            <button type=\"button\">\r\n              Create Account\r\n            </button>\r\n\r\n\r\n            </Link>\r\n            <div className=\"relative\">\r\n              <div className=\"absolute inset-0 flex items-center\"><span className=\"w-full border-t border-white/10\"></span></div>\r\n              <div className=\"relative flex justify-center text-xs uppercase\"><span className=\"bg-[#121212] px-2 text-gray-500 font-sans\">Federated Auth</span></div>\r\n            </div>\r\n\r\n            {/* <button\r\n              type=\"button\"\r\n              className=\"flex w-full items-center justify-center gap-3 rounded-md bg-white text-black px-3 py-2.5 text-sm font-semibold shadow-sm hover:bg-gray-200 transition-all\"\r\n              onClick={() => signIn(\"google\")}\r\n            >\r\n              <Chrome size={18} />\r\n              Continue with Google\r\n            </button> */}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nirma/OneDrive/Desktop/CODE/authport/Auth-Portal/src/app/login/page.tsx"],"sourcesContent":["\"use client\"; // This must be at the very top\r\n\r\nimport Login from \"@/components/Login\";\r\nimport React from \"react\";\r\n\r\nconst LoginPage = () => {\r\n    // We REMOVED the 'async' and the 'signIn' call from here.\r\n    // The 'signIn' logic should only happen when a user clicks a button inside <Login />.\r\n\r\n    return (\r\n        <main className=\"relative flex min-h-screen flex-col items-center justify-center bg-[#121212] overflow-hidden\">\r\n\r\n            {/* Background Decoration: Subtle glow effect */}\r\n            <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-amber-600/5 via-transparent to-transparent opacity-50 pointer-events-none\" />\r\n\r\n            {/* The Login component handles the form and the signIn() function */}\r\n            <div className=\"z-10 w-full flex justify-center items-center\">\r\n                <Login />\r\n            </div>\r\n\r\n            {/* Footer Note */}\r\n            <footer className=\"absolute bottom-8 text-gray-600 text-xs tracking-widest uppercase\">\r\n                System Version 1.0.4 â€¢ Encrypted Connection\r\n            </footer>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default LoginPage;"],"names":[],"mappings":";;;;;AAEA;AAFA,cAAc,+BAA+B;;;AAK7C,MAAM,YAAY;IACd,0DAA0D;IAC1D,sFAAsF;IAEtF,qBACI,2SAAC;QAAK,WAAU;;0BAGZ,2SAAC;gBAAI,WAAU;;;;;;0BAGf,2SAAC;gBAAI,WAAU;0BACX,cAAA,2SAAC,mMAAK;;;;;;;;;;0BAIV,2SAAC;gBAAO,WAAU;0BAAoE;;;;;;;;;;;;AAKlG;uCAEe"}}]
}