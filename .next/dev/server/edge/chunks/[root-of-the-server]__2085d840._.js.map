{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/OneDrive/Desktop/PROJECTS/coffee-store/src/middleware.ts"],"sourcesContent":["import { withAuth } from \"next-auth/middleware\";\r\nimport { NextResponse } from \"next/server\";\r\n\r\nexport default withAuth(\r\n    function middleware(req) {\r\n        const token = req.nextauth.token;\r\n        const isTargetingAdmin = req.nextUrl.pathname.startsWith(\"/admin\");\r\n\r\n        // If the user is logged in but NOT an admin, kick them to home\r\n        if (isTargetingAdmin && token?.isAdmin !== true) {\r\n            return NextResponse.redirect(new URL(\"/\", req.url));\r\n        }\r\n\r\n        return NextResponse.next();\r\n    },\r\n    {\r\n        callbacks: {\r\n            // authorized: returns true if the user is authenticated\r\n            authorized: ({ token }) => !!token,\r\n        },\r\n    }\r\n);\r\n\r\nexport const config = {\r\n    matcher: [\"/admin/:path*\"]\r\n};"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;uCAEe,IAAA,oNAAQ,EACnB,SAAS,WAAW,GAAG;IACnB,MAAM,QAAQ,IAAI,QAAQ,CAAC,KAAK;IAChC,MAAM,mBAAmB,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC;IAEzD,+DAA+D;IAC/D,IAAI,oBAAoB,OAAO,YAAY,MAAM;QAC7C,OAAO,sPAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,IAAI,GAAG;IACrD;IAEA,OAAO,sPAAY,CAAC,IAAI;AAC5B,GACA;IACI,WAAW;QACP,wDAAwD;QACxD,YAAY,CAAC,EAAE,KAAK,EAAE,GAAK,CAAC,CAAC;IACjC;AACJ;AAGG,MAAM,SAAS;IAClB,SAAS;QAAC;KAAgB;AAC9B"}}]
}