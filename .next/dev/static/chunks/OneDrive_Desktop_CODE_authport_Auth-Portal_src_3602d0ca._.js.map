{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nirma/OneDrive/Desktop/CODE/authport/Auth-Portal/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\nimport { PrismaPg } from \"@prisma/adapter-pg\";\r\nimport { Pool } from \"pg\";\r\n\r\nconst globalForPrisma = global as unknown as { prisma: PrismaClient };\r\n\r\n// 1. Create a connection pool using your URL\r\nconst pool = new Pool({\r\n    connectionString: process.env.DATABASE_URL\r\n});\r\n\r\n// 2. Create the adapter\r\nconst adapter = new PrismaPg(pool);\r\n\r\n// 3. Initialize the client with the adapter\r\nexport const prisma =\r\n    globalForPrisma.prisma ||\r\n    new PrismaClient({ adapter }); // Logic: The 'adapter' satisfies the non-empty requirement\r\n\r\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;"],"names":[],"mappings":";;;;AAQsB;AARtB;AACA;AACA;;;;AAEA,MAAM;AAEN,6CAA6C;AAC7C,MAAM,OAAO,IAAI,2MAAI,CAAC;IAClB,kBAAkB,wOAAO,CAAC,GAAG,CAAC,YAAY;AAC9C;AAEA,wBAAwB;AACxB,MAAM,UAAU,IAAI,uOAAQ,CAAC;AAGtB,MAAM,SACT,gBAAgB,MAAM,IACtB,IAAI,sOAAY,CAAC;IAAE;AAAQ,IAAI,2DAA2D;AAE9F,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nirma/OneDrive/Desktop/CODE/authport/Auth-Portal/src/app/actions/register.ts"],"sourcesContent":["\" use server \"\r\nimport{ prisma } from\"@/lib/prisma\";\r\nimport bcrypt from \"bcryptjs\";\r\n\r\nexport async function registerUser(formData : FormData){\r\n    const email = formData.get(\"email\") as string;\r\n    const password = formData.get(\"password\") as string;\r\n    const name = formData.get(\"name\") as string;\r\n\r\n    const hashedPassword = await bcrypt.hash(password || \"\", 10);\r\n\r\n    try{\r\n        await prisma.user.create({\r\n            data:{\r\n                email,\r\n                name,\r\n                // password: hashedPassword,\r\n                role: \"USER\",\r\n            },\r\n        });\r\n        return {success: true};\r\n    }catch(error){\r\n        console.error(\"Error registering user:\", error);\r\n        return {error: \"User already exists\"};\r\n    }\r\n}   "],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIO,eAAe,aAAa,QAAmB;IAClD,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAC9B,MAAM,OAAO,SAAS,GAAG,CAAC;IAE1B,MAAM,iBAAiB,MAAM,4MAAM,CAAC,IAAI,CAAC,YAAY,IAAI;IAEzD,IAAG;QACC,MAAM,8LAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YACrB,MAAK;gBACD;gBACA;gBACA,4BAA4B;gBAC5B,MAAM;YACV;QACJ;QACA,OAAO;YAAC,SAAS;QAAI;IACzB,EAAC,OAAM,OAAM;QACT,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAC,OAAO;QAAqB;IACxC;AACJ"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nirma/OneDrive/Desktop/CODE/authport/Auth-Portal/src/app/register/page.tsx"],"sourcesContent":["\"use client\"; // Logic: Needed to handle the alert and redirect\r\n\r\nimport { registerUser } from \"../actions/register\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function RegisterPage() {\r\n    const router = useRouter();\r\n\r\n    async function handleSubmit(formData: FormData) {\r\n        const result = await registerUser(formData);\r\n\r\n        if (result?.success) {\r\n            alert(\"Registration Successful!\");\r\n            router.push(\"/login\"); // Logic: Redirect user to login after success\r\n        } else {\r\n            alert(result?.error || \"Something went wrong\");\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center min-h-screen bg-[#121212]\">\r\n            {/* Logic: Using an anonymous action to call our handler */}\r\n            <form\r\n                action={handleSubmit}\r\n                className=\"bg-white/5 p-8 rounded-xl border border-white/10 flex flex-col gap-4\"\r\n            >\r\n                <h2 className=\"text-white text-2xl font-bold\">Create Account</h2>\r\n\r\n                <input name=\"name\" required placeholder=\"Full Name\" className=\"p-2 rounded bg-black text-white border border-white/20\" />\r\n                <input name=\"email\" required type=\"email\" placeholder=\"Email\" className=\"p-2 rounded bg-black text-white border border-white/20\" />\r\n                <input name=\"password\" required type=\"password\" placeholder=\"Password\" className=\"p-2 rounded bg-black text-white border border-white/20\" />\r\n\r\n                <button type=\"submit\" className=\"bg-amber-600 p-2 rounded text-white font-bold hover:bg-amber-500\">\r\n                    Register\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA,cAAc,iDAAiD;;;AAKhD,SAAS;;IACpB,MAAM,SAAS,IAAA,+MAAS;IAExB,eAAe,aAAa,QAAkB;QAC1C,MAAM,SAAS,MAAM,IAAA,iNAAY,EAAC;QAElC,IAAI,QAAQ,SAAS;YACjB,MAAM;YACN,OAAO,IAAI,CAAC,WAAW,8CAA8C;QACzE,OAAO;YACH,MAAM,QAAQ,SAAS;QAC3B;IACJ;IAEA,qBACI,0PAAC;QAAI,WAAU;kBAEX,cAAA,0PAAC;YACG,QAAQ;YACR,WAAU;;8BAEV,0PAAC;oBAAG,WAAU;8BAAgC;;;;;;8BAE9C,0PAAC;oBAAM,MAAK;oBAAO,QAAQ;oBAAC,aAAY;oBAAY,WAAU;;;;;;8BAC9D,0PAAC;oBAAM,MAAK;oBAAQ,QAAQ;oBAAC,MAAK;oBAAQ,aAAY;oBAAQ,WAAU;;;;;;8BACxE,0PAAC;oBAAM,MAAK;oBAAW,QAAQ;oBAAC,MAAK;oBAAW,aAAY;oBAAW,WAAU;;;;;;8BAEjF,0PAAC;oBAAO,MAAK;oBAAS,WAAU;8BAAmE;;;;;;;;;;;;;;;;;AAMnH;GAjCwB;;QACL,+MAAS;;;KADJ"}}]
}